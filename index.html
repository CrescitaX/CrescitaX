<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrescitaX v4.0 - Status Chiaro + Citazioni Motivazionali</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Mobile Header -->
        <header class="mobile-header">
            <div class="container">
                <h1>CrescitaX</h1>
                <button class="mobile-menu-toggle" id="mobileMenuToggle">‚ò∞</button>
            </div>
        </header>

        <!-- Desktop Sidebar -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h1>CrescitaX</h1>
                <p class="sidebar-tagline">Il tuo compagno per lo sviluppo delle abitudini</p>
            </div>
            <div class="sidebar-nav">
                <a href="#" class="sidebar-nav-item active" data-section="dashboard">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-text">Dashboard</span>
                </a>
                <a href="#" class="sidebar-nav-item" data-section="calendario">
                    <span class="nav-icon">üìÖ</span>
                    <span class="nav-text">Calendario</span>
                </a>
                
                <a href="#" class="sidebar-nav-item" data-section="statistiche">
                    <span class="nav-icon">üìà</span>
                    <span class="nav-text">Statistiche</span>
                </a>
                <a href="#" class="sidebar-nav-item" data-section="grafici">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-text">Grafici</span>
                </a>
                <a href="#" class="sidebar-nav-item" data-section="status">
                    <span class="nav-icon">üèÜ</span>
                    <span class="nav-text">Status</span>
                </a>
                
                <a href="#" class="sidebar-nav-item" data-section="riflessioni">
                    <span class="nav-icon">üí≠</span>
                    <span class="nav-text">Riflessioni</span>
                </a>
            </div>
        </nav>

        <!-- Mobile Navigation -->
        <nav class="mobile-navigation" id="mobileNavigation">
            <div class="container">
                <div class="nav-buttons">
                    <button class="nav-btn active" data-section="dashboard">üìä Dashboard</button>
                    <button class="nav-btn" data-section="calendario">üìÖ Calendario</button>
                    
                    <button class="nav-btn" data-section="statistiche">üìà Statistiche</button>
                    <button class="nav-btn" data-section="grafici">üìä Grafici</button>
                    <button class="nav-btn" data-section="status">üèÜ Status</button>
                    
                    <button class="nav-btn" data-section="riflessioni">üí≠ Riflessioni</button>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <div class="content-container">
                
                <!-- Dashboard Section -->
                <section id="dashboard" class="section active">
                    <div class="section-header">
                        <h2>Dashboard</h2>
                        <button class="btn btn--primary" id="add-habit-btn">+ Aggiungi Nuova Abitudine</button>
                    </div>
                    
                    <div id="habitsGrid" class="habits-grid">
                        <div class="empty-state">
                            <h3>Benvenuto in CrescitaX!</h3>
                            <p>Inizia il tuo percorso di crescita personale aggiungendo la tua prima abitudine.</p>
                            <button class="btn btn--primary" onclick="document.getElementById('add-habit-btn').click()">Aggiungi Prima Abitudine</button>
                        </div>
                    </div>
</section>

                <!-- Calendario Section -->
                <section id="calendario" class="section">
                    <div class="section-header">
                        <h2>Calendario</h2>
                        <div class="calendar-controls">
                            <button class="btn btn--outline" id="prevMonth">‚Äπ</button>
                            <span id="currentMonth"></span>
                            <button class="btn btn--outline" id="nextMonth">‚Ä∫</button>
                        </div>
                    </div>
                    <div id="calendarGrid" class="calendar-grid"></div>
                </section>

                <!-- Sfide Section -->
                

                <!-- Statistiche Section -->
                <section id="statistiche" class="section">
                    <div class="section-header">
                        <h2>Statistiche</h2>
                        <p class="section-description">Panoramica delle tue abitudini</p>
                    </div>
                    <div class="stats-table-container">
                        <table class="stats-table">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Totale</th>
                                    <th>Completamenti</th>
                                    <th>Percentuale</th>
                                    <th>Streak</th>
                                    <th>Record</th>
                                </tr>
                            </thead>
                            <tbody id="statsTableBody">
                                <tr>
                                    <td colspan="6" class="empty-stats">Nessuna abitudine creata</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="aggregate-stats">
                        <h3>Statistiche Aggregate</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <span class="stat-icon">üéØ</span>
                                <div class="stat-content">
                                    <span class="stat-label">Abitudini Attive</span>
                                    <span class="stat-value" id="active-habits-count">0</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <span class="stat-icon">üìÖ</span>
                                <div class="stat-content">
                                    <span class="stat-label">Successo Settimana</span>
                                    <span class="stat-value" id="week-success">0%</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <span class="stat-icon">‚úÖ</span>
                                <div class="stat-content">
                                    <span class="stat-label">Completamenti Totali</span>
                                    <span class="stat-value" id="total-completions">0</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Grafici Section -->
                <section id="grafici" class="section">
                    <div class="section-header">
                        <h2>Grafici</h2>
                        <div class="chart-filter">
                            <button class="btn btn--outline active" id="chartFilterNumbers" data-type="numbers">Numeri Reali</button>
                            <button class="btn btn--outline" id="chartFilterPercentages" data-type="percentages">Percentuali</button>
                        </div>
                    </div>
                    
                    <div id="chartsContainer" class="charts-container">
                        <div class="charts-grid">
                            <div class="chart-item">
                                <h3>Andamento Completamenti</h3>
                                <div class="chart-wrapper">
                                    <canvas id="chart1"></canvas>
                                </div>
                            </div>
                            <div class="chart-item">
                                <h3>Frequenza Abitudini</h3>
                                <div class="chart-wrapper">
                                    <canvas id="chart2"></canvas>
                                </div>
                            </div>
                            <div class="chart-item">
                                <h3>Confronto Streak</h3>
                                <div class="chart-wrapper">
                                    <canvas id="chart3"></canvas>
                                </div>
                            </div>
                            <div class="chart-item">
                                <h3>Distribuzione Giorni</h3>
                                <div class="chart-wrapper">
                                    <canvas id="chart4"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- sostituisci tutta la sezione Status/Percorso con questa -->
<section id="status" class="section">
<div class="status-overview">
    <h2>Il tuo Livello: <span id="currentLevel">1</span></h2>
    <div class="progress-bar">
        <div class="progress-fill" id="levelProgress" style="width: 0%; height: 10px; background-color: var(--color-primary);"></div>
    <div class="badges-grid" id="badgesGrid"></div>
    </div>
    <p id="pointsText">0 / 100 punti</p>
    <p id="nextLevelText">Prossimo livello: 100 punti mancanti</p>
</div>
  <div class="levels-table-container">
    <h3>üèÜ Sistema Livelli CrescitaX</h3>
    <div class="levels-table-wrapper">
      <table class="levels-table">
        <thead>
          <tr>
            <th>Livello</th>
            <th>Punti Richiesti</th>
            <th>Badge</th>
            <th>Nome</th>
          </tr>
        </thead>
        <tbody>
          <tr data-level="1">
            <td>1</td>
            <td>0-99</td>
            <td class="badge-cell novizio">üå±</td>
            <td>Novizio</td>
          </tr>
          <tr data-level="2">
            <td>2</td>
            <td>100-249</td>
            <td class="badge-cell apprendista">üåø</td>
            <td>Apprendista</td>
          </tr>
          <tr data-level="3">
            <td>3</td>
            <td>250-749</td>
            <td class="badge-cell praticante">‚≠ê</td>
            <td>Praticante</td>
          </tr>
          <tr data-level="4">
            <td>4</td>
            <td>750-1999</td>
            <td class="badge-cell costante">üî•</td>
            <td>Costante</td>
          </tr>
          <tr data-level="5">
            <td>5</td>
            <td>2000+</td>
            <td class="badge-cell guru">üëë</td>
            <td>Guru</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="advancement-guide">
    <h3>üìà Come Guadagnare Punti</h3>
    <div class="points-system">
      <div class="point-action">
        <span class="action-icon">‚úÖ</span>
        <span class="action-text">Completamento abitudine</span>
        <span class="action-points">+10 punti</span>
      </div>
      <div class="point-action">
        <span class="action-icon">üî•</span>
        <span class="action-text">Streak di 7 giorni</span>
        <span class="action-points">+50 punti</span>
      </div>
      <div class="point-action">
        <span class="action-icon">üìù</span>
        <span class="action-text">Riflessione giornaliera</span>
        <span class="action-points">+25 punti</span>
      </div>
    </div>
  </div>
</section>

                <!-- Riflessioni Section -->
                <section id="riflessioni" class="section">


                    <div class="section-header">
                        <h2>Riflessioni</h2>
                        <p class="section-description">Cosa hai imparato oggi?</p>
                    </div>
                    
                    <div class="reflection-form">
                        <div class="form-group">
                            <textarea id="reflectionText" class="form-control" placeholder="Scrivi la tua riflessione quotidiana..."></textarea>
                        </div>
                        <button class="btn btn--primary" id="saveReflection">Salva Riflessione</button>
                    </div>
                    
                    <div class="reflections-list">
                        <h3>Le tue riflessioni</h3>
                        <div id="reflectionsList">
                            <p class="empty-reflections">Nessuna riflessione ancora scritta</p>
                        </div>
                    </div>
                </section>

            </div>
        </main>
    </div>

    <!-- Modal per aggiungere/modificare abitudine -->
    <div id="habitModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="habitModalTitle">Aggiungi Nuova Abitudine</h3>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Nome Abitudine</label>
                    <input type="text" id="habitName" class="form-control" placeholder="Es. Leggere 30 minuti al giorno">
                </div>
                <div class="form-group">
                    <label class="form-label">Descrizione (facoltativa)</label>
                    <textarea id="habit-description" class="form-control" placeholder="Aggiungi una descrizione (facoltativa)" rows="2" maxlength="200"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Colore</label>
                    <div class="color-picker" id="colorPicker">
                        <div class="color-option selected" data-color="#2563eb" style="background-color: #2563eb;"></div>
                        <div class="color-option" data-color="#10b981" style="background-color: #10b981;"></div>
                        <div class="color-option" data-color="#8b5cf6" style="background-color: #8b5cf6;"></div>
                        <div class="color-option" data-color="#f97316" style="background-color: #f97316;"></div>
                        <div class="color-option" data-color="#ec4899" style="background-color: #ec4899;"></div>
                        <div class="color-option" data-color="#06b6d4" style="background-color: #06b6d4;"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn--outline" id="cancelModal">Annulla</button>
                <button class="btn btn--primary" id="saveHabit">Salva Abitudine</button>
            </div>
        </div>
    </div>

    <!-- Modal per modifica calendario -->
    <div id="calendarModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="calendarModalTitle">Modifica Giorno</h3>
                <button class="modal-close" id="closeCalendarModal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="calendarHabitsForm"></div>
            </div>
            <div class="modal-footer">
                <button class="btn btn--outline" id="cancelCalendarModal">Annulla</button>
                <button class="btn btn--primary" id="saveCalendarChanges">Salva Modifiche</button>
            </div>
        </div>
    </div>

    <!-- Point Animation Container -->
    <div id="pointAnimationContainer" class="point-animation-container"></div>

    <script src="app.js"></script>
</body>
</html>